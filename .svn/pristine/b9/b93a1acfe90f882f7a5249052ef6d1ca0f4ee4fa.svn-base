webpackJsonp([33],{"E+dC":function(t,e){},M4vj:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s("Xxa5"),a=s.n(i),l=s("exGp"),n=s.n(l),r=s("Dd8w"),c=s.n(r),o=s("gyMJ"),d=s("NYxO"),u={name:"homeWorkAdd",data:function(){return{imagesList:[],classList:[],selected:[],needSwitch:!1,form:{openId:this.$store.getters.openId,title:"",textContent:"1963年4月26日生于北京市，华语影视男演员、导演、制作人 、武术运动员、商人。",images:[{imageUrl:"https://ss0.baidu.com/6ONWsjip0QIZ8tyhnq/it/u=1604641827,2225865630&fm=58&bpow=400&bpoh=565"}],needConfirm:0,senders:[]}}},computed:c()({},Object(d.b)(["id","roleType"])),methods:{handleDelImg:function(){},handleChangeFile:function(){},handleSubmit:function(){var t=this.form,e=t.title;t.textContent;""!=e?""!=e?this.selected.length?(this.needSwitch&&(this.form.needConfirm=1),this.form.senders=this.selected.map(function(t){return{classId:t}}),console.log(this.form)):this.$weui.alert("请选择发送班级",function(){},{title:"提示"}):this.$weui.alert("请输入作业内容",function(){},{title:"提示"}):this.$weui.alert("请输入作业标题",function(){},{title:"提示"})},queryClassId:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n()(a.a.mark(function s(){var i;return a.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,o.a.queryClassId(e);case 2:0===(i=s.sent).errorCode&&(t.classList=i.data);case 4:case"end":return s.stop()}},s,t)}))()},homeworkAdd:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n()(a.a.mark(function s(){return a.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,o.a.homeworkAdd(e);case 2:0===s.sent.errorCode&&t.$weui.alert("作业发布成功",function(){t.$router.go(-1)},{title:"提示"});case 4:case"end":return s.stop()}},s,t)}))()}},mounted:function(){this.queryClassId({id:this.id,roleType:this.roleType})}},m={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"pages"},[i("div",{staticClass:"page-bd"},[i("form",{ref:"form",attrs:{action:"",method:"post",enctype:"multipart/form-data"}},[i("div",{staticClass:"cells"},[i("div",{staticClass:"cell"},[t._m(0),t._v(" "),i("div",{staticClass:"cell-bd"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.form.title,expression:"form.title"}],staticClass:"input",attrs:{placeholder:"请输入作业标题",maxlength:"20"},domProps:{value:t.form.title},on:{input:function(e){e.target.composing||t.$set(t.form,"title",e.target.value)}}})])]),t._v(" "),i("div",{staticClass:"cell"},[i("div",{staticClass:"cell-bd",staticStyle:{"padding-left":"0"}},[i("div",{attrs:{id:"contenteditable",contenteditable:""},domProps:{innerHTML:t._s(t.form.textContent)}})])]),t._v(" "),i("div",{staticClass:"cell"},[i("div",{staticClass:"cell-bd",staticStyle:{"padding-left":"0"}},[i("ul",{staticClass:"uploader-files"},t._l(t.imagesList,function(e,a){return i("li",{key:a,staticClass:"uploader-file",style:{backgroundImage:"url("+e+")"}},[i("img",{attrs:{src:s("+Vg6"),alt:""},on:{click:function(e){t.handleDelImg(a)}}})])})),t._v(" "),i("div",{staticClass:"uploader-input_box"},[i("input",{staticClass:"uploader-input",attrs:{name:"file",type:"file",multiple:"multiple",accept:"image/*"},on:{change:t.handleChangeFile}})])])]),t._v(" "),i("div",{staticClass:"cell cell-select cell-select-after"},[t._m(1),t._v(" "),i("div",{staticClass:"cell-bd"},[i("select",{directives:[{name:"model",rawName:"v-model",value:t.selected,expression:"selected"}],staticClass:"select",attrs:{name:"select",dir:"rtl",multiple:"",size:"1"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.selected=e.target.multiple?s:s[0]}}},[i("optgroup",{attrs:{disabled:"",hidden:""}}),t._v(" "),t._l(t.classList,function(e,s){return i("option",{key:s,domProps:{value:e.classId}},[t._v(t._s(e.className))])})],2)])]),t._v(" "),i("div",{staticClass:"cell cell-switch"},[t._m(2),t._v(" "),i("div",{staticClass:"cell-ft"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.needSwitch,expression:"needSwitch"}],staticClass:"weui-switch",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.needSwitch)?t._i(t.needSwitch,null)>-1:t.needSwitch},on:{change:function(e){var s=t.needSwitch,i=e.target,a=!!i.checked;if(Array.isArray(s)){var l=t._i(s,null);i.checked?l<0&&(t.needSwitch=s.concat([null])):l>-1&&(t.needSwitch=s.slice(0,l).concat(s.slice(l+1)))}else t.needSwitch=a}}})])])])])]),t._v(" "),i("div",{staticClass:"page-ft"},[i("div",{staticClass:"btn-area"},[i("a",{staticClass:"btn btn-primary",attrs:{href:"javascript:;"},on:{click:t.handleSubmit}},[t._v("发布")])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"cell-hd"},[e("label",{staticClass:"label",attrs:{for:""}},[this._v("作业标题")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"cell-hd"},[e("label",{staticClass:"label",attrs:{for:""}},[this._v("发送班级")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"cell-bd",staticStyle:{"padding-left":"0"}},[e("label",{staticClass:"label",attrs:{for:""}},[this._v("是否需要确定")])])}]};var h=s("VU/8")(u,m,!1,function(t){s("E+dC")},null,null);e.default=h.exports}});
//# sourceMappingURL=33.1399b09a49e465a7422a.js.map