webpackJsonp([39],{Chv1:function(e,t){},QFxx:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("Xxa5"),i=a.n(n),s=a("exGp"),l=a.n(s),r=a("Fd2+"),c=a("gyMJ"),o={name:"albumDetail",data:function(){return{isShow:!1,roleType:this.$route.query.roleType,query:{openId:this.$route.query.openId,channelId:this.$route.query.channelId},albumInfo:{},albumCheckList:[]}},methods:{handleBlumAdd:function(e){this.$router.push({path:"/album/add",query:{channelId:this.$route.query.channelId}})},handleCancel:function(){this.isShow=!1,this.albumCheckList=[]},handleConfirm:function(){this.albumCheckList.length?this.imageDelete({openId:this.query.openId,itemIds:this.albumCheckList}):this.$toast("没有选择图片")},handlePreviewImage:function(e,t){if(Array.isArray(t)){var a=[];t.forEach(function(e){a.push(e.imageUrl)}),this.instance=Object(r.l)({images:a,startPosition:e,onClose:function(){}})}},imageDelete:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return l()(i.a.mark(function a(){return i.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,c.a.imageDelete(t);case 2:0===a.sent.errorCode&&e.albumChannelDetail(e.query);case 4:case"end":return a.stop()}},a,e)}))()},albumChannelDetail:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return l()(i.a.mark(function a(){var n;return i.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,c.a.albumChannelDetail(t);case 2:0===(n=a.sent).errorCode&&(e.albumInfo=n.data,e.albumCheckList=[],e.isShow=!1);case 4:case"end":return a.stop()}},a,e)}))()}},mounted:function(){this.albumChannelDetail(this.query)}},u={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"flex-page"},[n("div",{staticClass:"flex-bd"},[2==e.roleType?[n("a",{staticClass:"release",attrs:{href:"javascript:;"},on:{click:e.handleBlumAdd}},[n("van-icon",{attrs:{name:"records",size:"24px"}})],1)]:e._e(),e._v(" "),n("article",{staticClass:"article"},[n("h1",{attrs:{"size-24":""}},[e._v(e._s(e.albumInfo.title))]),e._v(" "),n("div",{staticClass:"article-hd flex"},[n("div",{staticClass:"article-cell"},[n("time",{staticStyle:{color:"#8d8d8d"}},[e._v(e._s(e.albumInfo.postTime))])])]),e._v(" "),n("div",{staticClass:"album-content"},[n("div",{staticClass:"grid-content clearfix"},e._l(e.albumInfo.items,function(t,a){return n("div",{key:a,staticClass:"album-img",on:{click:function(t){e.handlePreviewImage(a,e.albumInfo.items)}}},[e.isShow?n("div",{staticClass:"album-mask",staticStyle:{"z-index":"500"},on:{click:function(e){e.stopPropagation()}}},[n("van-checkbox-group",{model:{value:e.albumCheckList,callback:function(t){e.albumCheckList=t},expression:"albumCheckList"}},[n("van-checkbox",{key:t.itemId,attrs:{name:t.itemId,"checked-color":"#92cd36"}})],1)],1):e._e(),e._v(" "),n("img",{attrs:{src:t.imageUrl}})])}))]),e._v(" "),e.albumInfo.items.length?e._e():n("div",{staticClass:"empty"},[n("img",{attrs:{src:a("UHh/"),alt:""}}),e._v(" "),n("p",[e._v("暂无相册")])])]),e._v(" "),1==e.roleType||2==e.roleType||4==e.roleType?[e.albumInfo.items.length?n("div",{staticClass:"_confirm"},[n("div",{staticClass:"album-tool flex"},[n("span",{on:{click:e.handleCancel}},[e._v("取消")]),e._v(" "),[e.isShow?e._e():n("span",{on:{click:function(t){e.isShow=!0}}},[e._v("删除图片")]),e._v(" "),e.isShow?n("span",{on:{click:e.handleConfirm}},[e._v("确认删除")]):e._e()]],2)]):e._e()]:e._e()],2)])},staticRenderFns:[]};var h=a("VU/8")(o,u,!1,function(e){a("Chv1")},"data-v-26e92178",null);t.default=h.exports}});