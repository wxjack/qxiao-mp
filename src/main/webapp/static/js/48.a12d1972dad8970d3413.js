webpackJsonp([48],{dO9v:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("Xxa5"),n=a.n(i),s=a("exGp"),l=a.n(s),r=a("woOf"),o=a.n(r),c=a("gyMJ"),u={name:"albumChannel",data:function(){return{title:"",dialogVisible:!1,roleType:this.$route.query.roleType,query:{openId:this.$route.query.openId,classId:this.$route.query.classId},albumChannel:[]}},methods:{handleGo:function(t){this.$router.push({path:"/album/show",query:{channelId:t}})},handleSubmit:function(t,e){if("confirm"===t)if(""==this.title)this.$toast("请输入相册名称"),e(!1);else{var a=o()({},this.query,{title:this.title});this.addChannel(a),e()}else e()},albumChannelQuery:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return l()(n.a.mark(function a(){var i;return n.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,c.a.albumChannelQuery(e);case 2:0===(i=a.sent).errorCode&&(t.albumChannel=i.data);case 4:case"end":return a.stop()}},a,t)}))()},addChannel:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return l()(n.a.mark(function a(){return n.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,c.a.addChannel(e);case 2:0===a.sent.errorCode&&(t.dialogVisible=!1,t.title="",t.albumChannelQuery(t.query));case 4:case"end":return a.stop()}},a,t)}))()}},mounted:function(){this.albumChannelQuery(this.query)}},d={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"flex-page"},[i("div",{staticClass:"flex-bd"},[i("van-dialog",{attrs:{title:"相册名称","show-cancel-button":"","before-close":t.handleSubmit},on:{cancel:function(e){t.dialogVisible=!1}},model:{value:t.dialogVisible,callback:function(e){t.dialogVisible=e},expression:"dialogVisible"}},[i("div",{staticClass:"cells",staticStyle:{padding:"15px 0 15px 0"}},[i("div",{staticClass:"cell"},[i("div",{staticClass:"cell-bd",staticStyle:{"padding-left":"0"}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],staticClass:"input",staticStyle:{"text-align":"left"},attrs:{placeholder:"请输入相册名称",maxlength:"10"},domProps:{value:t.title},on:{input:function(e){e.target.composing||(t.title=e.target.value)}}})])])])]),t._v(" "),i("div",{staticClass:"album-show mb-20"},t._l(t.albumChannel,function(e,n){return i("div",{key:n,staticClass:"album-channel flex",on:{click:function(a){t.handleGo(e.channelId)}}},[i("div",{staticClass:"album-thumb"},[e.image?i("img",{attrs:{src:e.image,alt:""}}):i("img",{attrs:{src:a("UHh/"),alt:""}})]),t._v(" "),i("div",{staticClass:"album-box"},[i("p",{attrs:{"size-16":""}},[t._v(t._s(e.title))]),t._v(" "),i("div",{staticStyle:{"margin-top":"4px","margin-bottom":"6px"},attrs:{"size-12":""}},[i("span",[t._v("共"+t._s(e.imagesCount)+"张")]),t._v(" "),i("span",[t._v("阅读"+t._s(e.readCount))])]),t._v(" "),i("time",{attrs:{"size-12":""}},[t._v("更新于"+t._s(e.updateTime))])])])})),t._v(" "),t.albumChannel.length?t._e():i("div",{staticClass:"empty"},[i("img",{attrs:{src:a("UHh/"),alt:""}}),t._v(" "),i("p",[t._v("暂无相册列表")])])],1),t._v(" "),i("div",{staticClass:"flex-ft"},[2==t.roleType?[i("section",{staticClass:"mamba"},[i("a",{staticClass:"btn btn-primary",attrs:{href:"javascript:void(0);"},on:{click:function(e){t.dialogVisible=!0}}},[t._v("新增栏目")])])]:t._e()],2)])},staticRenderFns:[]};var h=a("VU/8")(u,d,!1,function(t){a("tEPi")},"data-v-096eeb8c",null);e.default=h.exports},tEPi:function(t,e){}});