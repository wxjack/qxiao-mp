webpackJsonp([33],{JGC5:function(e,t){},"y/wq":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("+6Bu"),r=a.n(s),l=a("Xxa5"),n=a.n(l),c=a("exGp"),i=a.n(c),o=a("woOf"),u=a.n(o),d=a("gyMJ"),v=a("wEM1"),m={name:"teacherAdd",mixins:[v.d,v.c],data:function(){return{selected:[],querys:{openId:this.$route.query.openId,teacherId:this.$route.query.teacherId},form:{classes:[]},classList:[]}},methods:{handleDel:function(){var e=this;this.$dialog.confirm({title:"提示",message:"确定要删除老师吗？"}).then(function(){var t={openId:e.$route.query.openId,teacherId:e.$route.query.teacherId};e.teacherDelete(t)}).catch(function(){})},handleSubmit:function(){if(!this.selected.length)return this.$toast("请选择任教班级，支持多选"),!1;var e=this.selected.map(function(e){return{classId:e}}),t=u()({},this.form,{classes:e,openId:this.$route.query.openId});this.teacherUpdate(t)},teacherDelete:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i()(n.a.mark(function a(){return n.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,d.a.teacherDelete(t);case 2:0===a.sent.errorCode&&e.$router.go(-1);case 4:case"end":return a.stop()}},a,e)}))()},teacherUpdate:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i()(n.a.mark(function a(){var s;return n.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,d.a.teacherUpdate(t);case 2:0===(s=a.sent).errorCode?e.$router.go(-1):-1===s.errorCode&&e.$toast(""+s.errorMsg);case 4:case"end":return a.stop()}},a,e)}))()},teacherQuery:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i()(n.a.mark(function a(){var s,l,c,i;return n.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,d.a.teacherQuery(t);case 2:0===(s=a.sent).errorCode&&(l=s.data,c=l.classes,i=r()(l,["classes"]),e.form=i,e.selected=c);case 4:case"end":return a.stop()}},a,e)}))()},queryClassGroup:function(){var e=this;return i()(n.a.mark(function t(){var a,s,r,l,c;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.$route.query,s=a.id,r=a.studentId,l=a.roleType,t.next=3,d.a.queryClassId({id:s,studentId:r,roleType:l});case 3:0===(c=t.sent).errorCode&&(e.classList=c.data);case 5:case"end":return t.stop()}},t,e)}))()}},mounted:function(){this.queryClassGroup(),this.teacherQuery(this.querys)}},f={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"flex-page"},[a("div",{staticClass:"flex-bd"},[a("div",{staticClass:"cells-title"},[e._v("基础信息")]),e._v(" "),a("div",{staticClass:"cells"},[a("div",{staticClass:"cell"},[e._m(0),e._v(" "),a("div",{staticClass:"cell-bd"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.teacherName,expression:"form.teacherName"}],staticClass:"input",attrs:{placeholder:"请输入老师姓名",maxlength:"10"},domProps:{value:e.form.teacherName},on:{input:function(t){t.target.composing||e.$set(e.form,"teacherName",t.target.value)}}})])]),e._v(" "),a("div",{staticClass:"cell cell-select cell-select-after"},[e._m(1),e._v(" "),a("div",{staticClass:"cell-bd"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.form.sex,expression:"form.sex"}],staticClass:"select",attrs:{name:"",dir:"rtl"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(e.form,"sex",t.target.multiple?a:a[0])}}},e._l(e.sexList,function(t,s){return a("option",{key:s,domProps:{value:t.id}},[e._v(e._s(t.name))])}))])]),e._v(" "),a("div",{staticClass:"cell"},[e._m(2),e._v(" "),a("div",{staticClass:"cell-bd"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.tel,expression:"form.tel"}],staticClass:"input",attrs:{pattern:"[0-9]*",placeholder:"请输入手机号"},domProps:{value:e.form.tel},on:{input:function(t){t.target.composing||e.$set(e.form,"tel",t.target.value)}}})])])]),e._v(" "),a("div",{staticClass:"cells-title"},[e._v("职务信息")]),e._v(" "),a("div",{staticClass:"cells"},[a("div",{staticClass:"cell cell-select cell-select-after"},[e._m(3),e._v(" "),a("div",{staticClass:"cell-bd"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.form.type,expression:"form.type"}],staticClass:"select",attrs:{name:"",dir:"rtl"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(e.form,"type",t.target.multiple?a:a[0])}}},e._l(e.typeList,function(t,s){return a("option",{key:s,domProps:{value:t.id}},[e._v(e._s(t.name))])}))])]),e._v(" "),a("div",{staticClass:"cell cell-select cell-select-after"},[e._m(4),e._v(" "),a("div",{staticClass:"cell-bd"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.selected,expression:"selected"}],staticClass:"select",attrs:{name:"",dir:"rtl",multiple:"",size:"5"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.selected=t.target.multiple?a:a[0]}}},[a("optgroup",{attrs:{disabled:"",hidden:""}}),e._v(" "),e._l(e.classList,function(t,s){return a("option",{key:s,domProps:{value:t.classId}},[e._v(e._s(t.className))])})],2)])])]),e._v(" "),a("div",{staticClass:"btn-area btn-area-group"},[a("van-button",{attrs:{size:"normal",type:"danger"},on:{click:e.handleDel}},[e._v("删除")]),e._v(" "),a("van-button",{attrs:{size:"normal",type:"primary"},on:{click:e.handleSubmit}},[e._v("保存")])],1)])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"cell-hd"},[t("label",{staticClass:"label"},[this._v("姓名")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"cell-hd"},[t("label",{staticClass:"label",attrs:{for:""}},[this._v("性别")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"cell-hd"},[t("label",{staticClass:"label"},[this._v("手机号码")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"cell-hd"},[t("label",{staticClass:"label"},[this._v("职务类别")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"cell-hd"},[t("label",{staticClass:"label"},[this._v("任教班级")])])}]};var p=a("VU/8")(m,f,!1,function(e){a("JGC5")},"data-v-461cdee4",null);t.default=p.exports}});