webpackJsonp([40],{"/DgL":function(e,t){},UEgd:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s("Xxa5"),l=s.n(a),r=s("exGp"),i=s.n(r),c=s("+6Bu"),n=s.n(c),o=s("gyMJ"),d=s("wEM1"),u=s("w3CS"),v={name:"teacherAdd",mixins:[d.d,d.c],data:function(){return{selected:[],classList:[],form:{openId:this.$route.query.openId,teacherName:"",sex:1,tel:"",type:1,classes:[]}}},methods:{handleSubmit:function(){var e=this.form,t=e.teacherName,s=e.tel;e.classId,n()(e,["teacherName","tel","classId"]);return""!=t&&t.length?this.selected.length?void(Object(u.a)(s)?(this.form.classes=this.selected.map(function(e){return{classId:e}}),this.teacherAdd(this.form)):this.$toast("请正确填写手机号")):(this.$toast("请选择任教班级，支持多选"),!1):(this.$toast("请输入老师姓名"),!1)},teacherAdd:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i()(l.a.mark(function s(){var a;return l.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,o.a.teacherAdd(t);case 2:0===(a=s.sent).errorCode?(e.$refs.form.reset(),e.$router.go(-1)):-1===a.errorCode&&e.$toast(""+a.errorMsg);case 4:case"end":return s.stop()}},s,e)}))()},queryClassGroup:function(){var e=this;return i()(l.a.mark(function t(){var s,a,r,i,c;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return s=e.$route.query,a=s.id,r=s.studentId,i=s.roleType,t.next=3,o.a.queryClassId({id:a,studentId:r,roleType:i});case 3:0===(c=t.sent).errorCode&&(e.classList=c.data);case 5:case"end":return t.stop()}},t,e)}))()}},mounted:function(){this.queryClassGroup()}},m={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"flex-page"},[s("div",{staticClass:"flex-bd"},[s("form",{ref:"form",attrs:{action:""}},[s("div",{staticClass:"cells-title"},[e._v("基础信息")]),e._v(" "),s("div",{staticClass:"cells"},[s("div",{staticClass:"cell"},[e._m(0),e._v(" "),s("div",{staticClass:"cell-bd"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.form.teacherName,expression:"form.teacherName"}],staticClass:"input",attrs:{placeholder:"请输入老师姓名",maxlength:"10"},domProps:{value:e.form.teacherName},on:{input:function(t){t.target.composing||e.$set(e.form,"teacherName",t.target.value)}}})])]),e._v(" "),s("div",{staticClass:"cell cell-select cell-select-after"},[e._m(1),e._v(" "),s("div",{staticClass:"cell-bd"},[s("select",{directives:[{name:"model",rawName:"v-model",value:e.form.sex,expression:"form.sex"}],staticClass:"select",attrs:{name:"",dir:"rtl"},on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(e.form,"sex",t.target.multiple?s:s[0])}}},e._l(e.sexList,function(t,a){return s("option",{key:a,domProps:{value:t.id}},[e._v(e._s(t.name))])}))])]),e._v(" "),s("div",{staticClass:"cell"},[e._m(2),e._v(" "),s("div",{staticClass:"cell-bd"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.form.tel,expression:"form.tel"}],staticClass:"input",attrs:{pattern:"[0-9]*",placeholder:"请输入手机号"},domProps:{value:e.form.tel},on:{input:function(t){t.target.composing||e.$set(e.form,"tel",t.target.value)}}})])])]),e._v(" "),s("div",{staticClass:"cells-title"},[e._v("职务信息")]),e._v(" "),s("div",{staticClass:"cells"},[s("div",{staticClass:"cell cell-select cell-select-after"},[e._m(3),e._v(" "),s("div",{staticClass:"cell-bd"},[s("select",{directives:[{name:"model",rawName:"v-model",value:e.form.type,expression:"form.type"}],staticClass:"select",attrs:{name:"",dir:"rtl"},on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(e.form,"type",t.target.multiple?s:s[0])}}},[s("optgroup",{attrs:{disabled:"",hidden:""}}),e._v(" "),e._l(e.typeList,function(t,a){return s("option",{key:a,domProps:{value:t.id}},[e._v(e._s(t.name))])})],2)])]),e._v(" "),s("div",{staticClass:"cell cell-select cell-select-after"},[e._m(4),e._v(" "),s("div",{staticClass:"cell-bd"},[s("select",{directives:[{name:"model",rawName:"v-model",value:e.selected,expression:"selected"}],staticClass:"select",attrs:{name:"",dir:"rtl",multiple:"",size:"1"},on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.selected=t.target.multiple?s:s[0]}}},[s("optgroup",{attrs:{disabled:"",hidden:""}}),e._v(" "),e._l(e.classList,function(t,a){return s("option",{key:a,domProps:{value:t.classId}},[e._v(e._s(t.className))])})],2)])])])]),e._v(" "),s("div",{staticClass:"btn-group"},[s("a",{staticClass:"btn btn-large btn-primary",attrs:{href:"javascript:;"},on:{click:e.handleSubmit}},[e._v("保存")])])])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"cell-hd"},[t("label",{staticClass:"label"},[this._v("姓名")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"cell-hd"},[t("label",{staticClass:"label",attrs:{for:""}},[this._v("性别")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"cell-hd"},[t("label",{staticClass:"label"},[this._v("手机号码")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"cell-hd"},[t("label",{staticClass:"label"},[this._v("职务类别")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"cell-hd"},[t("label",{staticClass:"label"},[this._v("任教班级")])])}]};var f=s("VU/8")(v,m,!1,function(e){s("/DgL")},"data-v-22f972a3",null);t.default=f.exports}});